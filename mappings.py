lca_name_mapping = {
    # PEM Electrolysis with Solar PV
    'hydrogen production, gaseous, 30 bar, from PEM electrolysis, solar PV ground-mounted, global cf [0.15]': 'Electrolysis via solar PV',
    'hydrogen production, gaseous, 30 bar, from PEM electrolysis, solar PV ground-mounted, global cf [0.125]': 'Electrolysis via solar PV',
    'hydrogen production, gaseous, 30 bar, from PEM electrolysis, solar PV ground-mounted, global cf [0.175]': 'Electrolysis via solar PV',
    'hydrogen production, gaseous, 30 bar, from PEM electrolysis, solar PV ground-mounted, global cf [0.2]': 'Electrolysis via solar PV',
    'hydrogen production, gaseous, 30 bar, from PEM electrolysis, solar PV ground-mounted, global cf [0.225]': 'Electrolysis via solar PV',
    'hydrogen production, gaseous, 30 bar, from PEM electrolysis, solar PV ground-mounted, global cf [0.1]': 'Electrolysis via solar PV',
    'hydrogen production, gaseous, 30 bar, from PEM electrolysis, solar PV ground-mounted, global cf [0.25]': 'Electrolysis via solar PV',
    
    # PEM Electrolysis with Onshore Wind
    'hydrogen production, gaseous, 30 bar, from PEM electrolysis, onshore wind, global cf [0.4]': 'Electrolysis via onshore wind',
    'hydrogen production, gaseous, 30 bar, from PEM electrolysis, onshore wind, global cf [0.5]': 'Electrolysis via onshore wind',
    'hydrogen production, gaseous, 30 bar, from PEM electrolysis, onshore wind, global cf [0.3]': 'Electrolysis via onshore wind',
    'hydrogen production, gaseous, 30 bar, from PEM electrolysis, onshore wind, global cf [0.35]': 'Electrolysis via onshore wind',
    'hydrogen production, gaseous, 30 bar, from PEM electrolysis, onshore wind, global cf [0.45]': 'Electrolysis via onshore wind',
    'hydrogen production, gaseous, 30 bar, from PEM electrolysis, onshore wind, global cf [0.55]': 'Electrolysis via onshore wind',
    'hydrogen production, gaseous, 30 bar, from PEM electrolysis, onshore wind, global cf [0.2]': 'Electrolysis via onshore wind',
    'hydrogen production, gaseous, 30 bar, from PEM electrolysis, onshore wind, global cf [0.25]': 'Electrolysis via onshore wind',
    'hydrogen production, gaseous, 30 bar, from PEM electrolysis, onshore wind, global cf [0.6]': 'Electrolysis via onshore wind',
    'hydrogen production, gaseous, 30 bar, from PEM electrolysis, onshore wind, global cf [0.65]': 'Electrolysis via onshore wind',
    'hydrogen production, gaseous, 30 bar, from PEM electrolysis, onshore wind, global cf [0.7]': 'Electrolysis via onshore wind',
    
    # PEM Electrolysis with Offshore Wind
    'hydrogen production, gaseous, 30 bar, from PEM electrolysis, offshore wind, global cf [0.55]': 'Electrolysis via offshore wind',
    
    # PEM Electrolysis with Other Sources
    'hydrogen production, gaseous, 30 bar, from PEM electrolysis, power from market for electricity, medium voltage': 'Electrolysis via grid power',
    'hydrogen production, gaseous, 30 bar, from PEM electrolysis, power from electricity production, hydro, reservoir, alpine region': 'Electrolysis via hydropower',
    'hydrogen production, gaseous, 30 bar, from SOEC electrolysis, power from electricity production, hydro, reservoir, alpine region': 'Electrolysis via hydropower',
    'hydrogen production, gaseous, 30 bar, from PEM electrolysis, power from electricity production, nuclear, pressure water reactor': 'Electrolysis via nuclear power',
    
    # AEC Electrolysis with Solar PV
    'hydrogen production, gaseous, 30 bar, from AEC electrolysis, solar PV ground-mounted, global cf [0.1]': 'Electrolysis via solar PV',
    'hydrogen production, gaseous, 30 bar, from AEC electrolysis, solar PV ground-mounted, global cf [0.125]': 'Electrolysis via solar PV',
    'hydrogen production, gaseous, 30 bar, from AEC electrolysis, solar PV ground-mounted, global cf [0.15]': 'Electrolysis via solar PV',
    'hydrogen production, gaseous, 30 bar, from AEC electrolysis, solar PV ground-mounted, global cf [0.175]': 'Electrolysis via solar PV',
    'hydrogen production, gaseous, 30 bar, from AEC electrolysis, solar PV ground-mounted, global cf [0.2]': 'Electrolysis via solar PV',
    'hydrogen production, gaseous, 30 bar, from AEC electrolysis, solar PV ground-mounted, global cf [0.225]': 'Electrolysis via solar PV',
    
    # AEC Electrolysis with Onshore Wind
    'hydrogen production, gaseous, 30 bar, from AEC electrolysis, onshore wind, global cf [0.2]': 'Electrolysis via onshore wind',
    'hydrogen production, gaseous, 30 bar, from AEC electrolysis, onshore wind, global cf [0.25]': 'Electrolysis via onshore wind',
    'hydrogen production, gaseous, 30 bar, from AEC electrolysis, onshore wind, global cf [0.3]': 'Electrolysis via onshore wind',
    'hydrogen production, gaseous, 30 bar, from AEC electrolysis, onshore wind, global cf [0.35]': 'Electrolysis via onshore wind',
    'hydrogen production, gaseous, 30 bar, from AEC electrolysis, onshore wind, global cf [0.4]': 'Electrolysis via onshore wind',
    'hydrogen production, gaseous, 30 bar, from AEC electrolysis, onshore wind, global cf [0.45]': 'Electrolysis via onshore wind',
    'hydrogen production, gaseous, 30 bar, from AEC electrolysis, onshore wind, global cf [0.5]': 'Electrolysis via onshore wind',
    'hydrogen production, gaseous, 30 bar, from AEC electrolysis, onshore wind, global cf [0.6]': 'Electrolysis via onshore wind',

    'hydrogen production, gaseous, 30 bar, from AEC electrolysis, offshore wind, global cf [0.55]': 'Electrolysis via offshore wind',
    
    # Other AEC Electrolysis Sources
    'hydrogen production, gaseous, 30 bar, from AEC electrolysis, power from market for electricity, medium voltage': 'Electrolysis via grid power',
    'hydrogen production, gaseous, 30 bar, from AEC electrolysis, power from electricity production, hydro, reservoir, alpine region': 'Electrolysis via hydropower',
    'hydrogen production, gaseous, 30 bar, from AEC electrolysis, power from electricity production, nuclear, pressure water reactor': 'Electrolysis via nuclear power',
    'hydrogen production, gaseous, 30 bar, from AEC electrolysis, offshore wind, global cf [0.55]': 'Electrolysis via offshore wind',
    
    # SOEC Electrolysis with Different Sources
    'hydrogen production, gaseous, 30 bar, from SOEC electrolysis, power from electricity production, nuclear, pressure water reactor': 'Electrolysis via nuclear power',
    'hydrogen production, gaseous, 30 bar, from SOEC electrolysis, power from market for electricity, medium voltage': 'Electrolysis via grid power',
    'hydrogen production, gaseous, 30 bar, from SOEC electrolysis, solar PV ground-mounted, global cf [0.175]': 'Electrolysis via solar PV',
    'hydrogen production, gaseous, 30 bar, from SOEC electrolysis, solar PV ground-mounted, global cf [0.225]': 'Electrolysis via solar PV',
    'hydrogen production, gaseous, 30 bar, from SOEC electrolysis, onshore wind, global cf [0.3]': 'Electrolysis via onshore wind',
    'hydrogen production, gaseous, 30 bar, from SOEC electrolysis, offshore wind, global cf [0.55]': 'Electrolysis via offshore wind',
    
    # Reforming and Gasification
    'hydrogen production, steam methane reforming, with CCS': 'Steam methane reforming, with CCS',
    'hydrogen production, auto-thermal reforming, with CCS': 'Auto-thermal reforming, with CCS',
    'hydrogen production, coal gasification, with CCS': 'Coal gasification, with CCS',
    'hydrogen production, gaseous, 25 bar, from gasification of woody biomass in entrained flow gasifier, at gasification plant': 'Biomass gasification',
    'hydrogen production, gaseous, 25 bar, from gasification of woody biomass in entrained flow gasifier, with CCS, at gasification plant': 'Biomass gasification, with CCS',
       
    # Other
    'hydrogen production, gaseous, 100 bar, from methane pyrolysis': 'Methane pyrolysis'
}

end_product_colors = {
    'Hydrogen': '#0072B2',        # Blue
    'Mobility': '#D55E00',        # Orange
    'Ammonia': '#006400',         # Dark Green
    'Synfuels': '#E78AC3',        # Bright Yellow (was light purple)
    'High-T heat': "#7B0000",     # Turquoise
    'Biofuels': '#7FC97F',        # Medium Green
    'CHP': '#FB8072',             # Coral Red
    'Domestic heat': '#999999',   # Gray
    'Methanol': '#F0E442',        # Yellow-Green
    'Power': '#D73027',           # Red
    'Refining': '#000000',        # Black
    'CH4': '#8B4513',             # SaddleBrown
    'Iron & Steel': "#40D3AC",    # Deep Teal
    'CH4 mobility': '#7570B3',    # Muted Indigo (was purple)
}

replace_low_carbon_product = {
    'Hydrogen': 'CCS',         # Blue
    'Mobility': 'Power',    # Orange
    'Ammonia': 'CCS',     # Green
    'Synfuels': 'Biomass',    # Yellow
    'High-T heat': 'Biomass',   # Pink/Purple
    'Biofuels': 'Biomass',       # Dark Green
    'CHP': 'Biomass',         # Yellow-Orange
    'Domestic heat': 'Power',# Gray
    'Methanol': 'Biomass',    # Yellow-Green
    'Power': 'Renewable\nPower',    # Light Blue
    'Refining': 'n.a.',    # Black
    'CH4': 'Biomass',    # Black, grid inj.
    'Iron & Steel': 'CCS', #steel
    'CH4 mobility': 'Power', #white
}

color_palette = {
    'Electrolysis via nuclear power': '#FFB3BA',  # Light Pink
    'Electrolysis via offshore wind': '#D50032',   # Dark Red
    'Biomass gasification': '#4CAF50',              # Green
     'Biomass gasification, with CCS': 'lightgreen',
    'Electrolysis via onshore wind': '#2196F3',     # Blue
    'Electrolysis via hydropower': '#9C27B0',       # Purple
    'Electrolysis via solar PV': '#FF9800',         # Orange
    'Auto-thermal reforming, with CCS': '#757575',  # Grey
    'Electrolysis via grid power': '#000000',        # Black
    'Steam methane reforming, with CCS': '#B0BEC5',  # Light Grey
    'Methane pyrolysis': 'turquoise',                 # Teal
    'Coal gasification, with CCS': 'yellow'         # Amber
}